<!DOCTYPE html>
<html>

<head>
  <title>Early 20th Century Women Scholars in Tokyo</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />

  <!-- Leaflet JS / CSS -->
  <script src="https://unpkg.com/leaflet@1.9/dist/leaflet-src.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9/dist/leaflet.css">

  <!-- Leaflet-Rotate -->
  <script src="https://unpkg.com/leaflet-rotate@0.2.8/dist/leaflet-rotate-src.js"></script>

  <!-- include some miscellaneous -->
  <!--<script src="https://unpkg.com/leaflet-rotate@0.2.8/misc/route.js"></script>-->
  <!--<script src="https://unpkg.com/leaflet-rotate@0.2.8/misc/places.js"></script>-->
  <!--<script src="https://unpkg.com/leaflet-rotate@0.2.8/misc/loremIpsum.js"></script>-->
  <!--<script src="https://unpkg.com/leaflet-rotate@0.2.8/lib/debug.js"></script>-->

  <style>
    body {
      margin: 0;
      padding: 0;
    }

    #map {
      position: absolute;
      top: 0;
      bottom: 0;
      width: 100%;
    }
  </style>
</head>

<body>

  <div id="map"></div>

  <script>
    const osm = L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 24,
      maxNativeZoom: 19,
      attribution: '&copy; <a href="http://openstreetmap.org/copyright">OpenStreetMap</a> contributors',
      // noWrap: true
    });

    const mierune = L.tileLayer('https://tile.mierune.co.jp/mierune_mono/{z}/{x}/{y}.png', {
      minZoom: 0,
      maxZoom: 18,
      attribution: '&copy; <a href="https://mierune.co.jp/">mierune</a>',
      // noWrap: true
    });

    const historic = L.tileLayer('./tokyo-map-tiles/{z}/{x}/{y}.png', {
      tms: 1,
      minZoom: 10,
      maxZoom: 16,
      // noWrap: true
    });

    const map = L.map('map', {
      center: [35.6815, 139.761],
      zoom: 13,
      layers: [historic],
      // worldCopyJump: true,
      // preferCanvas: false,
      rotate: true,
      rotateControl: {
        closeOnZeroBearing: false,
        // position: 'bottomleft',
      },
      bearing: 79,
      // attributionControl: false,
      // zoomControl: false,
      // compassBearing: false,
      // trackContainerMutation: false,
      // shiftKeyRotate: false,
      // touchGestures: true,
      touchRotate: true,
      // touchZoom: true
    });

    // map.setBearing(90);
    // map.touchRotate.enable();

    // map.touchZoom.disable()
    // map.compassBearing.disable()
    // map.touchGestures.enable()

    // map.zoomControl.setPosition('bottomleft');
    // map.rotateControl.setPosition('bottomleft');
    // map.setMaxBounds([[-90,-180], [90,180]]);

    /*
    var layers = L.control.layers({
      'Empty': L.tileLayer(''),
      'Streets': osm,
      'Mierune': mierune,
      'Historic': historic
    }, null, {
      collapsed: false
    }).addTo(map);

    			var markers = [];
    			for (var i in places) {
    				markers.push(L.marker(places[i], {
    						draggable: true
    					})
    					.bindPopup('<b>' + i + '</b><br>' + loremIpsum)
    					.bindTooltip('<b>' + i + '</b>',
    						markers.length ? {} : {
    							direction: 'right',
    							permanent: true
    						}
    					)
    					.addTo(map));
    			}

    			var path = L.polyline(route, {
    				renderer: L.canvas()
    			}).addTo(map);

    			var circle = L.circle([53, 4], 111111)
    				.addTo(map);

    			var polygon = L.polygon([
    				[48, -3],
    				[50, -4],
    				[52, 4]
    			]).addTo(map);

    			const rectangle = L.rectangle([
    				[60.81123, 25.71632],
    				[60.81028, 25.73166],
    				[60.7997, 25.72892],
    				[60.80061, 25.71362]
    			]).addTo(map);

    			// Display some debug info
    			L.Rotate.debug(map);
    */
  </script>

</body>

</html>